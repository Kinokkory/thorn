<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data.Thorn.Fmap</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Data-Thorn-Fmap.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">thorn-0.1: Template Haskell Library</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Data.Thorn.Fmap</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>The module Data.Thorn.Fmap
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:autofmap">autofmap</a> :: <a href="C:\PROGRA~2\HASKEL~1\201320~1.0\lib/../doc/html/libraries/template-haskell-2.8.0.0/Language-Haskell-TH-Lib.html#t:TypeQ">TypeQ</a> -&gt; <a href="C:\PROGRA~2\HASKEL~1\201320~1.0\lib/../doc/html/libraries/template-haskell-2.8.0.0/Language-Haskell-TH-Lib.html#t:ExpQ">ExpQ</a></li><li class="src short"><span class="keyword">data</span>  <a href="#t:Variance">Variance</a> <ul class="subs"><li>= <a href="#v:Co">Co</a>  </li><li>| <a href="#v:Contra">Contra</a>  </li><li>| <a href="#v:Free">Free</a>  </li><li>| <a href="#v:Fixed">Fixed</a>  </li></ul></li><li class="src short"><a href="#v:autovariance">autovariance</a> :: <a href="C:\PROGRA~2\HASKEL~1\201320~1.0\lib/../doc/html/libraries/template-haskell-2.8.0.0/Language-Haskell-TH-Lib.html#t:TypeQ">TypeQ</a> -&gt; <a href="C:\PROGRA~2\HASKEL~1\201320~1.0\lib/../doc/html/libraries/template-haskell-2.8.0.0/Language-Haskell-TH-Syntax.html#t:Q">Q</a> [<a href="Data-Thorn-Fmap.html#t:Variance">Variance</a>]</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a name="v:autofmap" class="def">autofmap</a> :: <a href="C:\PROGRA~2\HASKEL~1\201320~1.0\lib/../doc/html/libraries/template-haskell-2.8.0.0/Language-Haskell-TH-Lib.html#t:TypeQ">TypeQ</a> -&gt; <a href="C:\PROGRA~2\HASKEL~1\201320~1.0\lib/../doc/html/libraries/template-haskell-2.8.0.0/Language-Haskell-TH-Lib.html#t:ExpQ">ExpQ</a></p><div class="doc"><p><code>autofmap t</code> generates the <code>fmap</code> of the type <code>t</code>.
 Quite surprisingly, it still works for any arity, co/contra/free/fixed-variances, type synonyms, and mutual recursions.
</p><pre>
type Nuf x y = y -&gt; x
type a :&lt;- b = Nuf a b
nuf = $(autofmap [t|(:&lt;-)|]) chr ord (+1) <code>c</code>

data List a = Nil | Cons a (List a) deriving Show
golist 0 = Nil
golist n = Cons n (golist (n-1))
list = $(autofmap $[t|List|]) (+1) (golist 10)

data Rose a = Rose a (Forest a) deriving Show
data Forest a = Forest [Rose a] deriving Show
gorose n = Rose n (Forest (replicate n (gorose (n-1))))
rose = $(autofmap $[t|Rose|]) (+1) (gorose 3)
</pre></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Variance" class="def">Variance</a>  </p><div class="doc"><p><code>Variance</code> is a variance of a parameter of a functor.
 <code>Co</code> means covariance, one of a normal functor, 
 <code>Contra</code> means contravariance, a dual of covariance, 
 <code>Free</code> means to be able to satisfy either covariance or contravariance, 
 <code>Fixed</code> means to have to satisfy both covariance and contravariance.
 And <code>v1 <code><a href="C:\PROGRA~2\HASKEL~1\201320~1.0\lib/../doc/html/libraries/base-4.6.0.1/Data-Monoid.html#v:mappend">mappend</a></code> v2</code> means to have to satisfy both <code>v1</code> and <code>v2</code>.
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Co" class="def">Co</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Contra" class="def">Contra</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Free" class="def">Free</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Fixed" class="def">Fixed</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Variance" class="caption collapser" onclick="toggleSection('i:Variance')">Instances</p><div id="section.i:Variance" class="show"><table><tr><td class="src"><a href="C:\PROGRA~2\HASKEL~1\201320~1.0\lib/../doc/html/libraries/base-4.6.0.1/Text-Read.html#t:Read">Read</a> <a href="Data-Thorn-Fmap.html#t:Variance">Variance</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="C:\PROGRA~2\HASKEL~1\201320~1.0\lib/../doc/html/libraries/base-4.6.0.1/Text-Show.html#t:Show">Show</a> <a href="Data-Thorn-Fmap.html#t:Variance">Variance</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="C:\PROGRA~2\HASKEL~1\201320~1.0\lib/../doc/html/libraries/base-4.6.0.1/Data-Monoid.html#t:Monoid">Monoid</a> <a href="Data-Thorn-Fmap.html#t:Variance">Variance</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:autovariance" class="def">autovariance</a> :: <a href="C:\PROGRA~2\HASKEL~1\201320~1.0\lib/../doc/html/libraries/template-haskell-2.8.0.0/Language-Haskell-TH-Lib.html#t:TypeQ">TypeQ</a> -&gt; <a href="C:\PROGRA~2\HASKEL~1\201320~1.0\lib/../doc/html/libraries/template-haskell-2.8.0.0/Language-Haskell-TH-Syntax.html#t:Q">Q</a> [<a href="Data-Thorn-Fmap.html#t:Variance">Variance</a>]</p><div class="doc"><p><code>autovariance t</code> provides you the variances.
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.13.2</p></div></body></html>